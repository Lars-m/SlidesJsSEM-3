<!DOCTYPE html>
<html>
<head>
  <title>Node-Intro</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!--<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.13/angular.min.js"></script>-->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" media="all" href="../theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="../theme/css/phone.css">
  <script src="../angular/angular.min.js"></script>
  <script src="https://code.angularjs.org/1.2.18/i18n/angular-locale_da.js"></script>

  <script src="../js/jquery-1.11.1.min.js"></script>
  <script src="../js/presenter.js"></script>

  <base target="_blank">

  <!-- This opens all links in a new tab. -->
  <script data-main="../js/slides" src="../js/require-1.0.8.min.js"></script>
  <!--In order to have more than one slideset in the project-->
  <script src="slides.js"></script>

</head>

<!--Setup Angular for the full slide-set-->
<!--<body ng-app="SlideApp" style="opacity: 0">-->
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground" style="background: #00163B">
    <aside class="gdbar"><img src="../images/logo.png" style="width: 200px;"></aside>
    <hgroup class="auto-fadein" style="color: white;">
      <div style="float: left;">
        <div style="max-width: 20em;">
          <h1 data-config-title></h1>
          <h2 data-config-subtitle></h2>
          <p data-config-presenter></p>
        </div>
      </div>
      <div style="float:left;margin-left: 2em;"><img src="images/logo.png" style="width:300px;"></div>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>The Semester Seed</h2>
      <h3></h3>
    </hgroup>
    <article>
      <p>To remove a lot of boiler-plate code, and to "get you started ;-)" we have designed a seed to be used for</p>
      <ul>
        <li>Some of the exercises</li>
        <li>Start Code for CA-3</li>
        <li>Start Code for the Semester Project (feel free to find alternatives)</li>
      </ul>
      <p><a href="https://github.com/Lars-m/semesterSeedJAX-RS-Backend.git">Java-Backend</a></p>
      <p><a href="https://github.com/Lars-m/semesterSeedReactClient.git">Matching React Client</a></p>
      <div style="color: darkblue; background-color: #e38d13; font-weight: 3em;padding: 1em;">
        These slides are meant as the "User Manual" to get started with the Seed
      </div>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>The Semester Seed - Getting started</h2>
    </hgroup>
    <article>
      <br/>

      <div style="width:250px; float: left">
        <img style="width: 100%;" src="../images/Demo.png"/>
      </div>
      <div style="width:700px;float: left;padding: 20px;padding-top: 1em;">
        <p style="color: #0000A0">Clone the two projects and:</p>
        <ul>
          <li>Open the back-end in <b>NetBeans</b></li>
          <li>Open the Client in your <b>favourite JavaScript editor</b></li>
        </ul>
      </div>
      <br/>
      <p>Important: The seed is not (quite) ready to use.</p>
      <p> You need to complete <a href="https://docs.google.com/document/d/1SpWbyolAW5G-W2L8l9D-lq1AywvcnNjqfN7vyc7YAjU/edit?usp=sharing">these tasks</a>
        an upload (to git) your own version to use for the rest of the semester</p>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Structuring React/MobX Applications</h2>
      <h3>Our suggested Architecture, implemented by the seed</h3>
    </hgroup>

    <article>
      <img style="width: 100%;margin-top: -25px;" src="images/architecture.PNG">
    </article>

  </slide>

  <slide>
    <hgroup><h2>The Semester Seed</h2>
      <h3>What you get with the seed</h3>
    </hgroup>

    <article>
      <ul style="margin-top: -20px;">
        <li>The <b>Server</b> creates a Token on an OK login, and returns the TOKEN to the client via the
          Login-response
        </li>
        <li>The <b>Server</b> authorizes (protected) REST resources up against the Token included with a request</li>
        <li>The <b>Server</b> sets the necessary CORS-headers (*) for all REST-endpoints</li>
        <li>The <b>Server</b> stores <span style="text-decoration: line-through;">passwords in plaintext</span>
          - <b style="color:darkred">you must fix that</b>
        </li>
        <li>The <b>client</b> provides a way to easily assign the Token to an outgoing REST-requests
        </li>
      </ul>
      <p style="font-size: 1em;;color:#000066">What do I need to know to use Security with the seed?</p>
      <ul>
        <li>Almost nothing :-)</li>
        <li>But the next to slides are the "manual" for using the security features on the Server and on the Client</li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup><h2>The Semester Seed</h2>
      <h3><em>Using the Security Features on the <b style="color: #0000A0">Server</b></em></h3>
    </hgroup>
    <article>
      <ul style="margin-top: -35px;">
        <li>
          <p>First, you can, <em>and should</em>, abstract away everything in the security folder</p></li>
        <li><p>Add new users to the User class/table with a sufficient Role</p></li>
        <li>
          <p> You secure JAX-RS resources, using basic <code>javax.annotation.security</code>
            annotations</p>
          <p><b style="color: #0000A0">@PermitAll</b></p>
          <p style="margin-top: -.6em;">Specifies that all security roles are permitted to access your JAX-RS
            resources</p>
          <p><b style="color: #0000A0">@DenyAll</b></p>
          <p style="margin-top: -.6em;">Specifies that no security roles are permitted to access your JAX-RS
            resources</p>
          <p><b style="color: #0000A0">@RolesAllowed</b></p>
          <p style="margin-top: -.6em;">Specifies the security roles that are permitted to access your JAX-RS
            resources</p>
        </li>
      </ul>
      <p style="font-size: 0.8em;">
        <a href="https://www-01.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.doc/ae/twbs_jaxrs_impl_securejaxrs_annotations.html">Securing
          JAX-RS resources using annotations</a></p>
    </article>
  </slide>

  <slide>
    <hgroup><h2>The Semester Seed</h2>
      <h3><em>Using the Security Features on the <b style="color: #0000A0">Client</b></em></h3>
    </hgroup>
    <article>
      <p>You can abstract away the details in the <em>auth.js file</em> (but you might wan't to take a look at some of
        its
        <code>observable</code> properties which you can observe in your components)</p>
      <p>
        When using <code>fetch</code> up against a <em>protected</em> endpoint you can attach the security token as
        sketched below</p>
      <pre class="prettyprint">
const options = fetchHelper.makeOptions("GET", true); //True will attach the Token
fetch(URL + "api/demouser", options)
      </pre>
      </p>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Testing with the Seed (backend)</h2>
    </hgroup>
    <article>
      <br/>
      <p>The back-end include RESTAssured (via the POM-file) and an initial Integration test
        which demonstrates how to: </p>
      <ul>
        <li>Log-in via a REST-assured test</li>
        <li>Store the Token for your Tests</li>
        <li>Attach the token to a Requests up against a secured endpoint</li>
      </ul>

    </article>
  </slide>

  <slide class="nobackground" style="background: #00163B">
    <aside class="gdbar right"><img src="../images/logo.png" style="width: 200px;"></aside>
    <hgroup>

    </hgroup>
    <article class="flexbox  auto-fadein" style="margin-top: 25%;">
      <h2>Rest of today - exercises with the seed :-)</h2>

    </article>
    <p class="auto-fadein" data-config-contact>
      <!-- populated from slide_config.json -->
    </p>
  </slide>

  <slide class="backdrop"></slide>

</slides>

<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-XXXXXXXX-1']);
  _gaq.push(['_trackPageview']);

  (function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
  })();
</script>

<!--[if IE]>
<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
<script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>
